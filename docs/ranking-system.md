# 랭킹 시스템 (Ranking System)

## 개요
에코트래커의 랭킹 시스템은 이중 구조로 설계되어 있습니다. 장기 사용자와 신규 사용자 모두가 공정하게 경쟁하고 성취감을 느낄 수 있도록 **절대량 랭킹**과 **개선도 랭킹**을 동시에 운영합니다.

---

## 1. 이중 랭킹 구조

### 1.1 기본 철학

```
에코 챔피언 랭킹 (절대량)
→ "누가 가장 적게 사용하는가?"
→ 장기 사용자와 환경 실천가에게 유리
→ 롤모델 제시

챌린저 스타 랭킹 (개선도)
→ "누가 가장 많이 줄였는가?"
→ 신규 사용자와 도전자에게 기회
→ 변화 동기 부여
```

### 1.2 두 랭킹의 상호보완

- 에코 챔피언: 꾸준한 실천을 장려
- 챌린저 스타: 빠른 개선을 격려
- 모든 사용자가 최소 한 개 랭킹에서 성취감 가능
- 랭킹별로 다른 뱃지와 보상 제공

---

## 2. 에코 챔피언 랭킹 (절대량)

### 2.1 산정 기준

**주간 에코 챔피언**
```
일평균 일회용품 사용량이 적을수록 높은 순위

계산식:
주간 평균 = (해당 주 총 사용량) ÷ (체크한 날짜 수)

예시:
사용자 A: 28개 ÷ 7일 = 4.0개/일
사용자 B: 15개 ÷ 5일 = 3.0개/일
사용자 C: 21개 ÷ 7일 = 3.0개/일
→ 순위: B, C, A (동점 시 총량 적은 순)
```

**월간 에코 챔피언**
```
월간 평균 = (해당 월 총 사용량) ÷ (체크한 날짜 수)

최소 체크 요구: 월 15일 이상
→ 공정성 확보
```

### 2.2 참여 조건

**주간 랭킹**
- 최소 주 3회 체크 필요
- 미달 시 랭킹 제외 (통계는 유지)
- 연속 체크 권장 (보너스 포인트)

**월간 랭킹**
- 최소 월 15일 체크 필요
- 주간 랭킹 4회 참여 권장

**이유**
- 공정한 비교를 위한 최소 데이터
- 무작위 체크 방지
- 꾸준한 참여 유도

### 2.3 랭킹 표시

```
🏆 이번 주 에코 챔피언
─────────────────────────
갱신: 매주 월요일 00:00

1위 🥇 친환경러123
   일평균 1.2개 | Lv.6 지구 지킴이
   
2위 🥈 그린라이프
   일평균 1.8개 | Lv.5 환경 수호자
   
3위 🥉 지구지킴이
   일평균 2.1개 | Lv.7 에코 마스터

4위    제로웨이스트
   일평균 2.3개 | Lv.4 에코 워리어
   
5위    환경사랑
   일평균 2.5개 | Lv.5 환경 수호자

...

25위 🎯 나 (친환경초보)
   일평균 4.3개 | Lv.2 초보 실천러
   
─────────────────────────
👉 상위 15%
전체 평균 5.7개 대비 -24%
지난주 대비 3단계 상승 ↑

[전체 랭킹 보기]
```

### 2.4 순위 구간 표시

사용자의 상대적 위치를 명확히 표시:

```
Top 1%      - 🌟 전설의 챔피언
Top 5%      - ⭐ 최상위 챔피언
Top 10%     - 🔝 상위 챔피언
Top 20%     - 🎯 우수 챔피언
Top 30%     - 📈 중상위
Top 50%     - ✓ 평균 이상
Top 50-70%  - ○ 평균
Top 70-90%  - △ 개선 필요
Bottom 10%  - ▽ 도전 시작

예시 메시지:
"축하해요! 상위 15%에 속해요"
"평균보다 24% 적게 사용 중이에요"
"조금만 더 줄이면 Top 10% 진입!"
```

### 2.5 랭킹 변동 알림

```
📊 주간 랭킹 업데이트!

에코 챔피언: 28위 → 25위 (↑3)

🎉 3단계 상승! 멋져요!

이번 주 일평균: 4.3개
지난주: 5.1개 (-0.8개 개선)

다음 목표: 24위
→ 하루 0.2개만 더 줄이면 달성!

[랭킹 확인하기]
```

### 2.6 에코 챔피언 혜택

**Top 100**
- 에코 챔피언 뱃지
- +50p (주간)
- 프로필에 특별 표시

**Top 10**
- 전설의 챔피언 칭호
- +200p (주간)
- 메인 화면 하이라이트
- 특별 프로필 이펙트

**1위**
- 주간 챔피언 칭호
- +500p
- 명예의 전당 등재
- 특별 인터뷰 기회

---

## 3. 챌린저 스타 랭킹 (개선도)

### 3.1 산정 기준

**주간 챌린저 스타**
```
전주 대비 감소율이 높을수록 높은 순위

계산식:
개선율 = (지난주 평균 - 이번주 평균) ÷ 지난주 평균 × 100%

예시:
사용자 A: (8.0 - 5.2) ÷ 8.0 = 35% 개선
사용자 B: (6.0 - 3.6) ÷ 6.0 = 40% 개선
사용자 C: (5.0 - 3.5) ÷ 5.0 = 30% 개선
→ 순위: B, A, C
```

**월간 챌린저 스타**
```
전월 대비 감소율 기준

개선율 = (지난달 평균 - 이번달 평균) ÷ 지난달 평균 × 100%

최소 조건:
- 전월 15일 이상 체크
- 이번 달 15일 이상 체크
```

### 3.2 참여 조건

**주간 랭킹**
- 이전 주 최소 3일 체크
- 이번 주 최소 3일 체크
- 개선율이 양수여야 함 (+5% 이상)

**공정성 확보**
- 신규 사용자 보정 기간 2주
- 극단적 증감 이상치 필터링
- 최소 개선 기준 설정

### 3.3 신규 사용자 보정

**첫 2주**
```
Week 1: 기준선 설정 (랭킹 미참여)
Week 2: 기준선 대비 비교 시작
Week 3+: 정식 랭킹 참여

이유:
- 초기 변동성이 크기 때문
- 안정적인 비교 기준 필요
- 의도적 조작 방지
```

### 3.4 랭킹 표시

```
⭐ 이번 주 챌린저 스타
─────────────────────────
갱신: 매주 월요일 00:00

1위 ⭐ 변화의시작
   전주 대비 -65% | 8.0→2.8개
   
2위 ⭐ 나 (친환경초보)
   전주 대비 -42% | 5.1→3.0개
   
3위 ⭐ 실천왕
   전주 대비 -38% | 6.5→4.0개

4위    다짐실천
   전주 대비 -35% | 7.2→4.7개
   
5위    그린스타트
   전주 대비 -33% | 9.0→6.0개

...

─────────────────────────
🎉 2위 달성! 놀라운 변화예요!

지난주: 5.1개 → 이번주: 3.0개
△ -2.1개 (-42%)

이번 주 포인트: +200p
챌린저 스타 뱃지 획득!

[전체 랭킹 보기]
```

### 3.5 개선도 구간

```
-50% 이상    - 💎 극한의 변화
-40% ~ -50%  - 🌟 놀라운 개선
-30% ~ -40%  - ⭐ 큰 변화
-20% ~ -30%  - 📉 뚜렷한 개선
-10% ~ -20%  - 📊 개선 중
-5% ~ -10%   - ✓ 약간 개선
0% ~ -5%     - ○ 유지
0% 이상      - △ 다음 주 도전!

예시 메시지:
"놀라운 개선이에요! 전주 대비 42% 감소!"
"큰 변화를 만들고 있어요!"
```

### 3.6 챌린저 스타 혜택

**Top 100**
- 챌린저 스타 뱃지
- +50p (주간)
- 개선 하이라이트 표시

**Top 10**
- 변화의 리더 칭호
- +200p (주간)
- 메인 화면 성공 스토리 소개
- 특별 격려 메시지

**1위**
- 주간 변화 챔피언 칭호
- +500p
- 명예의 전당 등재
- 성공 사례 공유

---

## 4. 랭킹 갱신 주기

### 4.1 주간 랭킹

**갱신 시간**
- 매주 월요일 00:00
- 전주 월요일 00:00 ~ 일요일 23:59 데이터 기준

**알림 발송**
- 월요일 09:00: 랭킹 업데이트 알림
- 랭킹 변동이 있는 사용자에게만 발송

### 4.2 월간 랭킹

**갱신 시간**
- 매월 1일 00:00
- 전월 1일 00:00 ~ 말일 23:59 데이터 기준

**특별 보상**
- 월간 Top 10: 특별 뱃지
- 월간 1위: 월간 챔피언 칭호 (영구)

### 4.3 실시간 조회

사용자는 언제든지 현재 순위 확인 가능:
- 잠정 순위 표시
- 다음 갱신까지 남은 시간
- 예상 순위 변동

```
현재 잠정 순위 (목요일 15:30 기준)

에코 챔피언: 약 27위
(다음 갱신: 3일 8시간 30분 후)

💡 현재 평균 4.5개
   24위 진입까지 -0.3개 필요
```

---

## 5. 공정성 및 이상치 처리

### 5.1 최소 참여 기준

**주간 랭킹**
- 주 3회 이상 체크 필요
- 3회 미만 시 랭킹 제외 안내

**월간 랭킹**
- 월 15일 이상 체크 필요
- 주간 랭킹 3회 이상 참여 권장

**안내 메시지**
```
이번 주 랭킹 미참여

체크 횟수: 2/3회
💡 1회만 더 체크하면 랭킹 참여 가능해요!

[오늘의 체크 시작하기]
```

### 5.2 이상치 필터링

**급격한 변화 감지**
```
의심되는 패턴:
- 전주 대비 80% 이상 감소
- 연속 3주 이상 극단적 변동
- 하루 사용량 20개 이상

조치:
- 자동 검증 프로세스
- 확인 후 랭킹 반영 또는 제외
```

### 5.3 신규 사용자 보호

**초기 2주**
- 기준선 설정 기간
- 챌린저 스타 미참여
- 에코 챔피언은 참여 가능

**3주차부터**
- 정식 랭킹 참여
- 공정한 경쟁 환경

---

## 6. 랭킹 세부 화면

### 6.1 전체 랭킹 페이지

```
🏆 에코트래커 랭킹

[에코 챔피언] [챌린저 스타]
     ▔▔▔▔▔

━━━━━━━━━━━━━━━━━━━━━━
이번 주 에코 챔피언
━━━━━━━━━━━━━━━━━━━━━━

전체 참여자: 1,847명
평균 사용량: 5.7개/일

─────────────────────────

1위 🥇 [에코 마스터] 친환경러123
       1.2개/일 ⭐ 7주 연속 Top 10

2위 🥈 [환경 수호자] 그린라이프
       1.8개/일 ⭐ 5주 연속 Top 10

3위 🥉 [지구 지킴이] 지구지킴이
       2.1개/일

4위    [에코 워리어] 제로웨이스트
       2.3개/일 ↑2

5위    [환경 수호자] 환경사랑
       2.5개/일 ↓1

...

10위   [그린 챌린저] 에코라이프
       3.1개/일 NEW

─────────────────────────
Top 10 컷라인: 3.1개/일
─────────────────────────

25위 🎯 나 (친환경초보)
       4.3개/일 | Lv.2 초보 실천러
       상위 15% | 전주 대비 ↑3
       
─────────────────────────

26위   다음을향해
       4.4개/일 ↓2
       
27위   그린드림
       4.5개/일 -

...

[내 순위로 스크롤]
[Top 100 전체보기]
```

### 6.2 내 랭킹 상세

```
📊 내 랭킹 현황

━━━━━━━━━━━━━━━━━━━━━━
에코 챔피언 (절대량)
━━━━━━━━━━━━━━━━━━━━━━

이번 주: 25위 / 1,847명
지난주: 28위 (↑3단계)

일평균: 4.3개
전체 평균: 5.7개 (-24% 적게 사용)

상위 15% 🎯

━━━━━━━━━━━━━━━━━━━━━━
주간 추이
━━━━━━━━━━━━━━━━━━━━━━

4주전: 42위
3주전: 35위 (↑7)
2주전: 31위 (↑4)
1주전: 28위 (↑3)
이번주: 25위 (↑3)

📈 꾸준히 상승 중!

━━━━━━━━━━━━━━━━━━━━━━
다음 목표
━━━━━━━━━━━━━━━━━━━━━━

🎯 Top 20 진입
현재와의 차이: 0.5개/일

💡 하루에 0.5개만 줄이면
   다음 주 Top 20 가능!
   
🏆 Top 10 진입
현재와의 차이: 1.2개/일

━━━━━━━━━━━━━━━━━━━━━━
챌린저 스타 (개선도)
━━━━━━━━━━━━━━━━━━━━━━

이번 주: 12위 / 1,642명 (2위!)
전주 대비: -42% (5.1→3.0개)

⭐ 놀라운 변화!
+200p 획득

━━━━━━━━━━━━━━━━━━━━━━
개선 이력
━━━━━━━━━━━━━━━━━━━━━━

4주전: -5% (78위)
3주전: -12% (42위)
2주전: -18% (25위)
1주전: -8% (51위)
이번주: -42% (12위) 🌟

💪 최고의 한 주!

━━━━━━━━━━━━━━━━━━━━━━
```

### 6.3 명예의 전당

과거 챔피언들의 기록:

```
🏆 명예의 전당

━━━━━━━━━━━━━━━━━━━━━━
역대 주간 에코 챔피언 1위
━━━━━━━━━━━━━━━━━━━━━━

2024년 12월 3주차
[에코 마스터] 친환경러123
일평균 0.8개 (역대 최고 기록)

2024년 12월 2주차
[지구 지킴이] 제로히어로
일평균 1.1개

2024년 12월 1주차
[환경 수호자] 그린라이프
일평균 1.3개

━━━━━━━━━━━━━━━━━━━━━━
역대 주간 챌린저 스타 1위
━━━━━━━━━━━━━━━━━━━━━━

2024년 12월 3주차
[초보 실천러] 변화의시작
전주 대비 -72% (9.0→2.5개)

2024년 12월 2주차
[그린 챌린저] 실천왕
전주 대비 -68% (8.5→2.7개)

━━━━━━━━━━━━━━━━━━━━━━
월간 챔피언 (영구 칭호)
━━━━━━━━━━━━━━━━━━━━━━

2024년 11월
[에코 마스터] 친환경러123
월평균 1.2개

2024년 10월
[지구 지킴이] 제로히어로
월평균 1.5개

[전체 기록 보기]
```

---

## 7. 지역별 랭킹 (향후 확장)

### 7.1 지역 구분

```
서울
경기
인천
부산
대구
광주
대전
울산
세종
강원
충북
충남
전북
전남
경북
경남
제주
```

### 7.2 지역 랭킹 표시

```
🌏 우리 지역 랭킹

서울 지역 에코 챔피언
─────────────────────────

1위 🥇 친환경러123 (1.2개/일)
2위 🥈 서울그린 (1.9개/일)
3위 🥉 강남에코 (2.3개/일)

...

15위 🎯 나 (4.3개/일)

─────────────────────────
서울 평균: 5.9개/일
전국 평균: 5.7개/일

💡 서울은 전국 평균보다
   약간 높은 편이에요
```

---

## 8. 그룹 랭킹 (향후 확장)

### 8.1 그룹 종류

- 회사/조직
- 학교/학과
- 동호회
- 가족
- 친구 그룹

### 8.2 그룹 랭킹 예시

```
🏢 우리 회사 랭킹

ABC 회사 (참여자 47명)
─────────────────────────

1위 🥇 [마케팅팀] 김친환
       2.1개/일
       
2위 🥈 [개발팀] 이그린
       2.5개/일

3위 🥉 [디자인팀] 박에코
       2.8개/일

...

12위 🎯 나 (4.3개/일)

─────────────────────────
우리 회사 평균: 4.8개/일
전국 평균: 5.7개/일

🎉 우리 회사가 전국 평균보다
   16% 적게 사용해요!
```

---

## 9. 익명성 보장

### 9.1 표시 정보

**공개 정보**
- 닉네임 (사용자 설정)
- 레벨 & 칭호
- 사용량 통계
- 순위 및 변동

**비공개 정보**
- 실명
- 연락처
- 상세 위치
- 개인 식별 정보

### 9.2 닉네임 설정

```
닉네임 설정

현재: 사용자1234 (기본)

새 닉네임:
[____________]

• 2-10자
• 한글, 영문, 숫자 가능
• 특수문자 일부 가능
• 중복 불가
• 부적절한 단어 제한

[중복 확인] [변경하기]
```

### 9.3 프라이버시 설정

```
랭킹 공개 설정

○ 전체 공개 (닉네임 표시)
○ 순위만 공개 (익명 표시)
○ 완전 비공개 (랭킹 미참여)

💡 랭킹에 참여하지 않아도
   개인 통계는 확인 가능해요

현재 설정: 전체 공개

[설정 변경]
```

---

## 10. 랭킹 동기부여 메시지

### 10.1 순위 상승 시

```
상위권 진입:
"🎉 Top 10 진입! 모두의 롤모델이에요!"
"⭐ Top 100 달성! 상위 5%에요!"

꾸준한 상승:
"📈 3주 연속 상승! 멈출 수 없네요!"
"🔥 5단계 상승! 열정적이에요!"

목표 근접:
"💪 다음 목표까지 0.3개! 거의 다 왔어요!"
"🎯 Top 20 코앞! 조금만 더!"
```

### 10.2 순위 유지 시

```
상위권 유지:
"👑 5주 연속 Top 10! 안정적이에요!"
"⭐ 꾸준한 실천! 멋져요!"

평균 유지:
"✓ 안정적인 실천을 이어가고 있어요"
"○ 좋은 습관을 유지 중이에요"
```

### 10.3 순위 하락 시

```
약간 하락:
"이번 주는 조금 아쉬웠네요. 다음 주 화이팅!"
"괜찮아요! 다시 도전해요!"

많이 하락:
"힘든 한 주였나요? 천천히 다시 시작해요"
"완벽할 순 없어요. 오늘부터 다시!"
```

---

## 11. 랭킹 알고리즘 요약

### 11.1 에코 챔피언

```
Score = 평균 일일 사용량

정렬: 오름차순 (낮을수록 높은 순위)

동점 처리:
1순위: 총 사용량 적은 순
2순위: 체크 일수 많은 순
3순위: 레벨 높은 순
```

### 11.2 챌린저 스타

```
Score = (이전 기간 평균 - 현재 기간 평균) ÷ 이전 기간 평균 × 100

정렬: 내림차순 (높을수록 높은 순위)

동점 처리:
1순위: 절대 감소량 큰 순
2순위: 현재 평균 낮은 순
3순위: 연속 개선 주차 많은 순
```

---

## 12. 성공 지표

### 12.1 참여율
- 주간 랭킹 참여율: 70% 이상
- 월간 랭킹 참여율: 60% 이상

### 12.2 경쟁 효과
- 랭킹 참여자의 평균 개선율: 비참여자 대비 2배
- 상위 랭커 이탈률: 일반 사용자 대비 50% 낮음

### 12.3 만족도
- 랭킹 시스템 만족도: 4.0/5.0 이상
- 공정성 인식: 80% 이상

---

## 13. 결론

에코트래커의 이중 랭킹 시스템은 **모든 사용자에게 성취의 기회**를 제공합니다.

**에코 챔피언**: "당신은 얼마나 훌륭한가?"
→ 장기적 실천과 꾸준함을 인정

**챌린저 스타**: "당신은 얼마나 변화했는가?"
→ 노력과 개선을 격려

**"경쟁이 아닌 함께 성장, 비교가 아닌 서로 격려"**

이것이 에코트래커 랭킹의 핵심 가치입니다.
